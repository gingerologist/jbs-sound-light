# Tasks

## 人员与职责（仅列未完成部分）

| 人员       | 职责                                                         |
| ---------- | ------------------------------------------------------------ |
| 马工       | 1. 系统设计和详细设计<br />2. 灯泡固件<br />3. 音箱里的C3固件（codename: minimo）<br />4. PC软件的多阶段迭代版本（见overview文档） |
| 陆工       | 1. 音箱里的WROVER模块固件<br />2. 音箱PCBA硬件调试           |
| 薛工       | 1. 音箱PCBA第二版硬件                                        |
| 程明       | 1. 项目管理<br />2. 所有PCBA打样焊接<br />3. 测试<br />4. 量产导入 |
| (集体决策) | 1. 灯的最终PCBA设计检查                                      |



## 团队的任务列表

| ID   | 内容                                            | 开始时间                                                     | 目标交付时间         | 用时            | 前置任务         | 特殊风险                         |
| ---- | ----------------------------------------------- | ------------------------------------------------------------ | -------------------- | --------------- | ---------------- | -------------------------------- |
| 1*   | C3模块固件（minimo）                            | 已经开始                                                     | 11月21日             | 1周             | 无               |                                  |
| 2    | 灯的功能固件                                    | 前置任务完成时                                               | 12月5日              | 2周             | 1                |                                  |
| 3*   | 灯的完整固件含量产测试                          | 前置任务完成时                                               | 12月15日             | 10天            | 2                |                                  |
| 4+   | 第二版灯打样，目前已知彩色亮度不足问题          | 敲定改版要求，产测固件完成                                   | 12月15日<sup>1</sup> | 10天左右        | 3                |                                  |
| 5    | 音箱PCBA的EVT版评估<sup>2</sup>                 | 已经开始                                                     | 不晚于12月1日        | 2周             | 无               | 音效调试方案和时间               |
| 6+   | 音箱PCBA的DVT版制作                             | EVT1调通<br />音效调好<br />音频走线优化<br />确定C3线刷连接<br />加入eMMC | 不晚于12月31日       | 4周             | 5                | 要做两板周期准备<br />万一有错误 |
| 7    | PC软件                                          | 未开始                                                       | 见说明3              |                 |                  |                                  |
| 8*   | 音箱固件准备阶段（见说明4）                     | 已经开始                                                     | n/a<sup>5</sup>      | 1周<sup>6</sup> | 无               |                                  |
| 9*   | 音箱固件云通功能集讯、下载、音乐播放（见说明4） | 云通讯协议，MP3播放样本，需准备有假云的开发环境；            | 11月30日             | 1周<sup>6</sup> | 8                |                                  |
| 10*  | 音箱固件灯控制协议（见说明4）                   | 详细设计，依赖的协议，最好Mozart能完成到功能集6              | 12月31日             | 4周             | 1，3（至少2），8 |                                  |

说明：

1. 原则上任务4应该在任务3之后启动，实际上会提前打样，只要有一个可以wifi升级的固件出来，这样可以抢到时间；同时，这个时间点是用户可以拿到现场测试用灯的时间点；但现场测试大概率不会使用实际音箱组装EVT/DVT的PCB测试，很可能只能用PC模拟音箱网关测试，但灯效和音乐播放都是OK的。
2. 即现在陆工的第一版，要求器件功能检查没有问题，音频输出符合试听要求（供应商测试），无线功能需要工作，可使用任意固件测试；音频测试方面需要配合供应商要求；
3. 见overview里Mozart软件的功能集4-7，该软件属于持续开发；
   1. 至功能集4，可以用PC，一个C3模块用minimo固件，一组灯，做到完整模仿效果，即功能集4的交付应该追求和任务4相同的时间节点完成；
   2. 至功能集6，可以用Mozart模仿云，它首先可以帮助音箱固件的开发测试，其次可以脱离云完成演示；该演示效果可以和云比对延迟；
4. 音箱固件开发的依赖性很多，开发者应该先调通所有必要技术，比如MP3解码播放，下载存储，串口通讯，ota升级等，这是准备阶段；然后完成功能中与灯的控制无关的部分，这是任务9的内容；最后是加入灯的控制协议（含组网部分，因为minimo是个modem设计）；
5. 此任务无实际交付，程序员自觉完成技术准备；
6. 任务8和任务9应该尽量加速给任务10争取时间，任务中mp3播放的优先级最高因为音箱供应商需要调音质的固件；




## 主要交付（客户角度）

1. 最早在12月15日左右拿到可用于现场部署的灯，配套的PC上的C3/minimo固件，但PC上配套硬件功能和质量都无法保证能做完功能集4；
1. 最早在12月31日左右拿到可以集成的音箱样品，含DVT板，和可能buggy的固件但支持ota，可以从云上直接推WROVER的固件；



## 已知问题

1. Mozart的整个功能范围不在原本考虑的功能范围内，是在详细设计过程中逐渐发现其必要性；但是在开发上全部功能集1-7都由一个固件工程师完成是有一定难度的，工作量相当大；如果要分拆的话，可能会在功能集3完成之后，由另一组开发人员fork代码开发，或者基于参考代码和协议设计文档用另一种开发人员熟悉的语言开发4567中的必要功能；事实上Mozart是整个项目里功能集最大的一个软件，在目前的计划里由一个固件工程师（马）承担开发，技术栈使用Electron/Node.js。
2. 站在编辑软件开发者（路明）的角度，他应该尽可能早的介入和编辑软件相关的部分，建议路明仔细参照本文档和overview文档所述，期望在哪个任务的中间阶段能提早获得何种设计、代码、开发工具支持。
3. 其它还有细节不清晰，陆工应仔细阅读本文档和overview文档，提出要求和问题，确认所需开发时间是否可以满足。









